version: '3.9'
services:
  kali-rolling:
    build: .
    container_name: kali-linux-default
    hostname: frankenkali
    environment:
      DISPLAY: ${IP}:0
    ports:
      - "3389:3389"
    volumes:
      - ~/kali_share:/root/kali_share
      - ./init.sh:/root/scripts/init.sh
      - ./set_pass.expect:/root/scripts/set_pass.expect
      - ./bashrc:/root/.bashrc
      - /tmp/.X11-unix:/tmp/.X11-unix
    command: [ "/root/scripts/init.sh" ]
    stdin_open: true
    tty: true
